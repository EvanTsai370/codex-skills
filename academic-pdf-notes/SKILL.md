---
name: academic-pdf-notes
description: 用于从学术 PDF 或教材生成高质量中文学习笔记。适用于用户要求提取 PDF 页码或章节、分析章节结构，并输出结构化 Markdown/Obsidian 笔记（核心总结 + 深度补充），需保留公式、代码和图表引用。
---

# Academic PDF Notes

## 概述
从学术 PDF 生成章节或小节笔记。先提取内容、识别结构，再按小节生成笔记，包含核心总结与深度补充。

## 输入确认
- PDF 文件路径。
- 章节/小节范围或页码范围（页码从 1 开始）。
- 用户是否已自行提取内容（若已提取，直接使用）。
- 输出目录（默认 `300 Main Notes`）。
- 可选的章节结构大纲（若提供则跳过自动识别）。
- 任何特殊格式或内容要求。

## 批次与一致性规则
- 优先单章处理。
- 2-3 章可接受（需主题相关）。
- 避免 4+ 章或整书处理，必须拆分对话。
- 每次只生成一个小节笔记，避免后期质量下滑。
- 用最后一节与第一节对比深度与结构，若明显变浅则重写。
- 若无法维持质量，应停止并请求在新对话继续。

## 模板使用原则
- `assets/note_template.md` 是指导框架，不是强制清单。
- 只包含原文出现或理解必需的维度。
- 不得为了填模板而编造内容。
- 核心总结与深度补充必须清晰分离。

## 分析维度清单
以下维度是“可能用到的工具箱”，不是必须全部使用。
- What（是什么）
- Why（为什么）
- How（如何工作）
- Pros（优点）
- Cons（缺点）
- Limitations（局限性）
- Challenges（挑战）
- Best Practice（最佳实践）
- When to use（何时使用）
- When not to use（何时不使用）
- 常见误区

## 维度选择建议
- 概念/定义类: What、关键特征、示例。
- 机制/协议类: What、Why、How、优缺点、局限性、适用场景（原文提到时）。
- 算法类: What、How、复杂度、示例；比较仅在原文涉及时添加。
- 定理/证明类: 定理陈述、证明、推论、应用。
- 架构类: What、Why、How、权衡、挑战、最佳实践。

## 工作流程

### 1. 提取内容
- 使用 `scripts/pdf_extractor.py` 提取整章或指定页码。
- 优先完整章节提取，避免上下文缺失。
- 示例:

```bash
python3 scripts/pdf_extractor.py "<PDF>" --start <page> --end <page> --format text --output extracted_content.txt
```

- 若缺少依赖，安装 `pymupdf` 或 `pdfplumber`。

### 2. 确定章节结构
- 若用户提供结构，原样使用。
- 否则从提取文本中识别标题。
- 对编号章节可用 `grep -n "^14\." extracted_content.txt`（替换章节号）。
- 对无编号的描述性标题，优先让用户提供章节大纲。

### 3. 逐节生成笔记
- 文件名: `<中文标题>（<英文标题>）.md`（不含章节号）。
- 核心内容总结:
  - 忠实原文，禁止编造。
  - 保留公式、代码块和图表引用（如“如图X.X所示”）。
  - 保留跨章节引用。
  - 公式排版: 行内公式使用 `$...$`，行间公式使用 `$$...$$`。
- 深度补充:
  - 引入外部知识、现代实践、对比与批判性视角。
  - 与核心总结严格分离。
  - 深度补充长度至少与核心总结等量，通常可以更多。

### 4. 可选索引笔记
- 仅在用户要求时创建。
- 只保留 wiki 链接列表，不加描述性文字。
- 标准格式示例:

```markdown
# 索引与高性能（Indexing for High Performance）

- [[索引基础（Indexing Basics）]]
- [[高性能索引策略（Indexing Strategies for High Performance）]]
- [[索引案例研究（An Indexing Case Study）]]
- [[索引和表维护（Index and Table Maintenance）]]
```

### 5. 质量检查
- 不添加 `[cite: x]` 标记。
- 核心总结与深度补充之间不使用 `---` 分隔线。
- 中文为主，术语保留英文括号。
- 避免“前详后略”，保持深度一致。
- 禁止使用“文档提到”“本文指出”等空泛表述。

## 常见场景处理
- 练习题引入新概念: 在核心总结中写入，并标注题号。
- 图表: 用“如图X.X所示”引用并解释关键结论。
- 代码: 完整保留代码块，必要时加简短解释。
- 跨章节引用: 保留“见§X.X”，可附 Obsidian 链接。

## 输出检查清单
- 覆盖所有指定小节。
- 文件名符合规范且不含章节号。
- 核心总结忠实原文。
- 深度补充有价值且不混入总结。
- 深度补充长度至少等于核心总结。
- 公式与代码完整保留，公式格式正确。
- 图表引用已标注。
- 无 `[cite: x]` 标记。
- 核心总结与深度补充之间不使用 `---` 分隔线。

## 上下文与分批建议
- 生成 3-4 个详细笔记后，应评估是否需要在新对话继续。
- 若上下文使用接近上限，立即停止并在新对话继续。
- 分批策略优先保证质量，而不是一次性完成。

## 资源
- 模板: `assets/note_template.md`
- 示例: `references/examples/example_14.1.md`
- 详细规范: `references/extended-guidelines.md`
